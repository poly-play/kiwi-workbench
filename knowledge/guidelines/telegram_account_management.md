# 🤖 管理 Telegram 账号矩阵 (Telegram Account Management)

Kiwi 不仅仅能管文件，还能管理你的 **Telegram 账号资产**。
对于跨国运营来说，账号就是生产力。Kiwi 通过一套**标签系统 (Taxonomy)** 来智能管理这些账号。

## 1. 核心逻辑：账号标签 (Taxonomy)

每个账号入库时，都会被打上三个维度的标签：

### Role (角色)
这个号是干嘛的？
*   `sender`: 负责主动发消息（发奖、通知）。
*   `monitor`: 负责潜伏监听（舆情、竞品）。
*   `admin`: 也就是群主/管理员。
*   `archiver`: 负责批量下载、备份。

### Domain (业务)
谁在用这个号？
*   `operations`: 运营组。
*   `risk`: 风控组。
*   `finance`: 财务组（如需要）。

### Region (地区)
这个号属于哪里？
*   `global`: 总部/跨区。
*   `br`: 巴西 (Brazil).
*   `in`: 印度 (India).
*   `sa`: 沙特 (Saudi Arabia).
*   `ae`: 阿联酋 (UAE).
*   ... 及其他支持的国家代码。

---

## 2. 怎么加账号？

### 方法 A：使用 Slash Command (推荐)
在 Kiwi 对话框中直接输入：

`/add_telegram_account`

### 方法 B：自然语言交互
告诉 AI 你想做什么：

> "我要加一个巴西的客服号。"
> "添加一个新的监控号，用于印度市场。"

### 流程
1.  系统会提示你输入手机号（国际格式，如 `+8613800000000`）。
2.  Telegram 会发送验证码到你的手机或已登录的设备。
3.  输入验证码。
4.  (如果未指定) AI 会询问你该账号的角色、业务域和地区。
5.  账号 Session 会被加密保存，并注册到数据库中。

---

## 3. 系统怎么用这些号？(智能路由)

你不需要由你来指定“用 A 号发给 B 用户”。
你只需要下达任务：

> "给巴西的所有 VIP 用户发一条领奖通知。"

Kiwi 会自动：
1.  分析任务需求：Region=`br`, Capability=`send message`.
2.  在数据库里查找标签为 `role:sender` + `region:br` 的可用账号。
3.  自动调度这些账号去发送消息。

这就是 **智能路由**。

---

## 4. 常见问题 (FAQ)

*   **Q: 一个账号可以有多个地区吗？**
    *   A: 可以。比如一个号既管巴西也管印度，标签可以是 `region:br, region:in`。
*   **Q: 账号死号了怎么办？**
    *   A: 系统会自动检测 Session 有效性。如果失效，会标记为 `inactive` 并报警提示更换。
